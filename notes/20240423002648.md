# 20240423002648 Makefile: for Arduino

#arduino #makefile

I want to make Makefile for compile and upload the arduino sketch.

```makefile
# Makefile for Arduino

CMD = arduino-cli
FQBN := $(shell arduino-cli board list --format yaml | grep -oP "(?<=fqbn: ).*")
PORT := $(shell arduino-cli board list --format yaml | grep -oP "(?<=address: ).*")

*:
	$(CMD) compile -b $(FQBN) -v

upload:
	$(CMD) upload -b $(FQBN) -p $(PORT) -v

.PHONY: * upload
```
